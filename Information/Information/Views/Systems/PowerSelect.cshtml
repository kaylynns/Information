@model Entity.info_Role
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>PowerSelect</title>
    <link href="~/css/css.css" rel="stylesheet" />
    <link href="~/Scripts/bootstrap.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.7.2.min.js"></script>
    <script src="~/Scripts/vue.js"></script>
    <style type="text/css">
        .t1 {
            clear: both;
            border: 1px solid #c9dae4;
            margin-top: 10px;
        }

            .t1 tr th {
                color: #0d487b;
                /*background: #f2f4f8 url(../CSS/Table/images/sj_title_pp.jpg) repeat-x left bottom;*/
                line-height: 28px;
                border-bottom: 1px solid #9cb6cf;
                border-top: 1px solid #e9edf3;
                font-weight: normal;
                text-shadow: #e6ecf3 1px 1px 0px;
                padding-left: 5px;
                padding-right: 5px;
            }

            .t1 tr td {
                border-bottom: 1px solid #e9e9e9;
                padding-bottom: 5px;
                padding-top: 5px;
                color: #444;
                border-top: 1px solid #DDDDDD;
                padding-left: 5px;
                padding-right: 5px;
                word-break: break-all;
            }

        tr.over td {
            background: #bcd4ec; /*这个将是鼠标高亮行的背景色*/
        }

        #ListArea tr:first-child {
            background: linear-gradient(#F8F8F8,#DEDEDE);
            font-weight: 800;
            font-size: 15px;
        }

        .t1 tr {
            background-color: white;
            text-align: center;
            font-size: 15px;
        }

        #wh a {
            color: royalblue;
        }
    </style>
    <script type="text/javascript">

        $(function(){
            vm = new Vue({
                el: "#zong",
                data: {    //每个 Vue 实例都会代理其 data 对象里所有的属性
                    nums: null
                }, methods: {
                    load: function (currPage, AType, AName) {
                        var t = this;
                        $.ajax({
                            url: "/Systems/PowerSelects",
                            type: "Post",
                            success: function (msg) {
                                var dt = eval("(" + msg + ")");
                                t.nums = dt;
                              
                            }
                        })
                    }
                }
            });
            //加载
            vm.load();
        })

        function Create(msg) {
            if (msg == "ok") {
                alert("添加成功！");
            } else {
                alert("添加失败！");
            }
        }
    </script>
</head>
<body>
    <div id="zong">
        <h2 align="center">权限管理</h2>
        
            @using (Ajax.BeginForm("PowerCreate", new AjaxOptions() { HttpMethod = "Post", OnSuccess = "Create" }))
            {
                @Html.Label("角色名称:")@Html.TextBoxFor(e=>e.RoleName)   @Html.Label("角色备注:")@Html.TextBoxFor(e => e.Remark)  <input id = "Button1" type = "submit" value = "添加角色" Class = "btn1" />

            }
              <table width = "100%" id = "ListArea" border = "0" class="t1" align="center" cellpadding="0"
               cellspacing="0">
            <tr id = "head" >
                <td> 编号 </td >
                <td> 角色名称 </td>
                <td> 备注 </td >
                <td> 编辑 </td>
                    </tr>
                    <tr  v-for="(item,i) in nums">
            <td>{{item.RoleID}}</td>
                <td>{{item.RoleName}}</td>
                <td>{{item.Remark}}</td>
                <td><a  v-bind:href="['/Systems/PowerEdit/'+item.RoleID]" > 修改 </ a > &nbsp;&nbsp;&nbsp;<a  v-bind:href="['/Systems/PowerDelete/'+item.RoleID]" onclick="return confirm('您确定要删除这条数据吗？')">删除</a>&nbsp;&nbsp;&nbsp;<a   v-bind:href="['/Systems/PowerAdd/'+item.RoleID]">设置权限</a></td>
            </tr>

        </table>
    </div>
</body>
</html>
